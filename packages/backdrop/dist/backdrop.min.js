!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Backdrop=t()}(this,function(){"use strict";return new class{constructor(){this.backdropSelector="backdrop",this.backdropVisibleSelector="backdrop_visible",this.htmlScrollbarSelector="backdrop-hasScrollbar",this.htmlNoScrollSelector="backdrop-noscroll",this.bodyFixedSelector="backdrop-fixed"}show(){this.addBackdrop(),this.fixViewport(),this.backdrop.classList.add(this.backdropVisibleSelector)}hide(){this.isVisible()&&(this.backdrop.classList.remove(this.backdropVisibleSelector),this.unfixViewport())}addBackdrop(){this.backdrop||(this.backdrop=document.createElement("div"),this.backdrop.classList.add(this.backdropSelector),document.body.append(this.backdrop))}isVisible(){return!(!this.backdrop||!this.backdrop.matches(`.${this.backdropVisibleSelector}`))}fixViewport(){const e=window.scrollY||document.documentElement.scrollTop;document.body.style.marginTop=`-${e}px`,window.innerWidth>document.documentElement.clientWidth&&document.documentElement.classList.add(this.htmlScrollbarSelector),document.documentElement.classList.add(this.htmlNoScrollSelector),document.body.classList.add(this.bodyFixedSelector)}unfixViewport(){const e=-document.body.style.marginTop.slice(0,-2);document.documentElement.classList.remove(this.htmlScrollbarSelector),document.documentElement.classList.remove(this.htmlNoScrollSelector),document.body.classList.remove(this.bodyFixedSelector),document.body.style.marginTop=null,window.scrollTo(null,e)}}});
